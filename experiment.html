<!DOCTYPE html>
<html>
<head>
    <title>Experiment</title>
    <style>
        body { background-color: darkgrey; color: white; font-family: Arial, sans-serif; height: 100vh; margin: 0; display: flex; justify-content: center; align-items: center; }
        #container { text-align: center; max-width: 90%; }
        #feedback { position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%); padding: 8px 12px; background: rgba(0,0,0,0.6); border-radius: 6px; display: none; }
        input[type='text'] { font-size: 24px; padding: 8px; }
        button { font-size: 18px; padding: 8px 16px; margin-left: 8px; }
    </style>
</head>
<body>
    <div id="container"></div>
    <div id="feedback"></div>
    <script>
        const trials = [
    {
        "block": 1,
        "stimulus": "Color Phi Illusion Demonstration. You will see red and blue circles alternating. First at a slow speed, then faster. Press SPACE to continue through each display.",
        "response": "space",
        "latency": null,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 0
    },
    {
        "block": 2,
        "stimulus": "Phase 1: Slow Alternation - Watch the circles carefully",
        "response": "space",
        "latency": 3000,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 1
    },
    {
        "block": 101,
        "stimulus": "<img src=\"images/phi1.png\" alt=\"phi1.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 200,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 2
    },
    {
        "block": 102,
        "stimulus": "<img src=\"images/phi2.png\" alt=\"phi2.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 200,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 3
    },
    {
        "block": 103,
        "stimulus": "<img src=\"images/phi3.png\" alt=\"phi3.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 200,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 4
    },
    {
        "block": 104,
        "stimulus": "<img src=\"images/phi4.png\" alt=\"phi4.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 200,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 5
    },
    {
        "block": 105,
        "stimulus": "<img src=\"images/phi3.png\" alt=\"phi3.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 200,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 6
    },
    {
        "block": 106,
        "stimulus": "<img src=\"images/phi2.png\" alt=\"phi2.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 200,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 7
    },
    {
        "block": 107,
        "stimulus": "<img src=\"images/phi1.png\" alt=\"phi1.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 200,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 8
    },
    {
        "block": 108,
        "stimulus": "<img src=\"images/phi2.png\" alt=\"phi2.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 200,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 9
    },
    {
        "block": 109,
        "stimulus": "<img src=\"images/phi3.png\" alt=\"phi3.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 200,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 10
    },
    {
        "block": 110,
        "stimulus": "<img src=\"images/phi4.png\" alt=\"phi4.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 200,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 11
    },
    {
        "block": 111,
        "stimulus": "<img src=\"images/phi3.png\" alt=\"phi3.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 200,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 12
    },
    {
        "block": 112,
        "stimulus": "<img src=\"images/phi2.png\" alt=\"phi2.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 200,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 13
    },
    {
        "block": 113,
        "stimulus": "<img src=\"images/phi1.png\" alt=\"phi1.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 200,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 14
    },
    {
        "block": 101,
        "stimulus": "<img src=\"images/phi1.png\" alt=\"phi1.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 200,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 15
    },
    {
        "block": 102,
        "stimulus": "<img src=\"images/phi2.png\" alt=\"phi2.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 200,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 16
    },
    {
        "block": 103,
        "stimulus": "<img src=\"images/phi3.png\" alt=\"phi3.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 200,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 17
    },
    {
        "block": 104,
        "stimulus": "<img src=\"images/phi4.png\" alt=\"phi4.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 200,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 18
    },
    {
        "block": 105,
        "stimulus": "<img src=\"images/phi3.png\" alt=\"phi3.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 200,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 19
    },
    {
        "block": 106,
        "stimulus": "<img src=\"images/phi2.png\" alt=\"phi2.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 200,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 20
    },
    {
        "block": 107,
        "stimulus": "<img src=\"images/phi1.png\" alt=\"phi1.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 200,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 21
    },
    {
        "block": 108,
        "stimulus": "<img src=\"images/phi2.png\" alt=\"phi2.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 200,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 22
    },
    {
        "block": 109,
        "stimulus": "<img src=\"images/phi3.png\" alt=\"phi3.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 200,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 23
    },
    {
        "block": 110,
        "stimulus": "<img src=\"images/phi4.png\" alt=\"phi4.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 200,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 24
    },
    {
        "block": 111,
        "stimulus": "<img src=\"images/phi3.png\" alt=\"phi3.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 200,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 25
    },
    {
        "block": 112,
        "stimulus": "<img src=\"images/phi2.png\" alt=\"phi2.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 200,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 26
    },
    {
        "block": 113,
        "stimulus": "<img src=\"images/phi1.png\" alt=\"phi1.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 200,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 27
    },
    {
        "block": 101,
        "stimulus": "<img src=\"images/phi1.png\" alt=\"phi1.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 200,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 28
    },
    {
        "block": 102,
        "stimulus": "<img src=\"images/phi2.png\" alt=\"phi2.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 200,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 29
    },
    {
        "block": 103,
        "stimulus": "<img src=\"images/phi3.png\" alt=\"phi3.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 200,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 30
    },
    {
        "block": 104,
        "stimulus": "<img src=\"images/phi4.png\" alt=\"phi4.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 200,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 31
    },
    {
        "block": 105,
        "stimulus": "<img src=\"images/phi3.png\" alt=\"phi3.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 200,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 32
    },
    {
        "block": 106,
        "stimulus": "<img src=\"images/phi2.png\" alt=\"phi2.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 200,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 33
    },
    {
        "block": 107,
        "stimulus": "<img src=\"images/phi1.png\" alt=\"phi1.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 200,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 34
    },
    {
        "block": 108,
        "stimulus": "<img src=\"images/phi2.png\" alt=\"phi2.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 200,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 35
    },
    {
        "block": 109,
        "stimulus": "<img src=\"images/phi3.png\" alt=\"phi3.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 200,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 36
    },
    {
        "block": 110,
        "stimulus": "<img src=\"images/phi4.png\" alt=\"phi4.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 200,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 37
    },
    {
        "block": 111,
        "stimulus": "<img src=\"images/phi3.png\" alt=\"phi3.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 200,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 38
    },
    {
        "block": 112,
        "stimulus": "<img src=\"images/phi2.png\" alt=\"phi2.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 200,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 39
    },
    {
        "block": 113,
        "stimulus": "<img src=\"images/phi1.png\" alt=\"phi1.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 200,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 40
    },
    {
        "block": 3,
        "stimulus": "Did you see the circles as discrete stimuli? Press SPACE to continue to Phase 2.",
        "response": "space",
        "latency": null,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 41
    },
    {
        "block": 4,
        "stimulus": "Phase 2: Fast Alternation - Watch for the Color Phi illusion!",
        "response": "space",
        "latency": 3000,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 42
    },
    {
        "block": 201,
        "stimulus": "<img src=\"images/phi1.png\" alt=\"phi1.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 34,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 43
    },
    {
        "block": 202,
        "stimulus": "<img src=\"images/phi2.png\" alt=\"phi2.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 34,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 44
    },
    {
        "block": 203,
        "stimulus": "<img src=\"images/phi3.png\" alt=\"phi3.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 34,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 45
    },
    {
        "block": 204,
        "stimulus": "<img src=\"images/phi4.png\" alt=\"phi4.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 34,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 46
    },
    {
        "block": 205,
        "stimulus": "<img src=\"images/phi3.png\" alt=\"phi3.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 34,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 47
    },
    {
        "block": 206,
        "stimulus": "<img src=\"images/phi2.png\" alt=\"phi2.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 34,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 48
    },
    {
        "block": 207,
        "stimulus": "<img src=\"images/phi1.png\" alt=\"phi1.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 34,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 49
    },
    {
        "block": 208,
        "stimulus": "<img src=\"images/phi2.png\" alt=\"phi2.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 34,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 50
    },
    {
        "block": 209,
        "stimulus": "<img src=\"images/phi3.png\" alt=\"phi3.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 34,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 51
    },
    {
        "block": 210,
        "stimulus": "<img src=\"images/phi4.png\" alt=\"phi4.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 34,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 52
    },
    {
        "block": 211,
        "stimulus": "<img src=\"images/phi3.png\" alt=\"phi3.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 34,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 53
    },
    {
        "block": 212,
        "stimulus": "<img src=\"images/phi2.png\" alt=\"phi2.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 34,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 54
    },
    {
        "block": 213,
        "stimulus": "<img src=\"images/phi1.png\" alt=\"phi1.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 34,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 55
    },
    {
        "block": 214,
        "stimulus": "<img src=\"images/phi2.png\" alt=\"phi2.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 34,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 56
    },
    {
        "block": 215,
        "stimulus": "<img src=\"images/phi3.png\" alt=\"phi3.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 34,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 57
    },
    {
        "block": 216,
        "stimulus": "<img src=\"images/phi4.png\" alt=\"phi4.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 34,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 58
    },
    {
        "block": 217,
        "stimulus": "<img src=\"images/phi3.png\" alt=\"phi3.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 34,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 59
    },
    {
        "block": 218,
        "stimulus": "<img src=\"images/phi2.png\" alt=\"phi2.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 34,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 60
    },
    {
        "block": 219,
        "stimulus": "<img src=\"images/phi1.png\" alt=\"phi1.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 34,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 61
    },
    {
        "block": 220,
        "stimulus": "<img src=\"images/phi2.png\" alt=\"phi2.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 34,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 62
    },
    {
        "block": 221,
        "stimulus": "<img src=\"images/phi3.png\" alt=\"phi3.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 34,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 63
    },
    {
        "block": 222,
        "stimulus": "<img src=\"images/phi4.png\" alt=\"phi4.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 34,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 64
    },
    {
        "block": 223,
        "stimulus": "<img src=\"images/phi3.png\" alt=\"phi3.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 34,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 65
    },
    {
        "block": 224,
        "stimulus": "<img src=\"images/phi2.png\" alt=\"phi2.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 34,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 66
    },
    {
        "block": 225,
        "stimulus": "<img src=\"images/phi1.png\" alt=\"phi1.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 34,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 67
    },
    {
        "block": 226,
        "stimulus": "<img src=\"images/phi2.png\" alt=\"phi2.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 34,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 68
    },
    {
        "block": 227,
        "stimulus": "<img src=\"images/phi3.png\" alt=\"phi3.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 34,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 69
    },
    {
        "block": 228,
        "stimulus": "<img src=\"images/phi4.png\" alt=\"phi4.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 34,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 70
    },
    {
        "block": 229,
        "stimulus": "<img src=\"images/phi3.png\" alt=\"phi3.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 34,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 71
    },
    {
        "block": 230,
        "stimulus": "<img src=\"images/phi2.png\" alt=\"phi2.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 34,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 72
    },
    {
        "block": 231,
        "stimulus": "<img src=\"images/phi1.png\" alt=\"phi1.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 34,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 73
    },
    {
        "block": 232,
        "stimulus": "<img src=\"images/phi2.png\" alt=\"phi2.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 34,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 74
    },
    {
        "block": 233,
        "stimulus": "<img src=\"images/phi3.png\" alt=\"phi3.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 34,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 75
    },
    {
        "block": 234,
        "stimulus": "<img src=\"images/phi4.png\" alt=\"phi4.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 34,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 76
    },
    {
        "block": 235,
        "stimulus": "<img src=\"images/phi3.png\" alt=\"phi3.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 34,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 77
    },
    {
        "block": 236,
        "stimulus": "<img src=\"images/phi2.png\" alt=\"phi2.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 34,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 78
    },
    {
        "block": 237,
        "stimulus": "<img src=\"images/phi1.png\" alt=\"phi1.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 34,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 79
    },
    {
        "block": 201,
        "stimulus": "<img src=\"images/phi1.png\" alt=\"phi1.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 34,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 80
    },
    {
        "block": 202,
        "stimulus": "<img src=\"images/phi2.png\" alt=\"phi2.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 34,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 81
    },
    {
        "block": 203,
        "stimulus": "<img src=\"images/phi3.png\" alt=\"phi3.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 34,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 82
    },
    {
        "block": 204,
        "stimulus": "<img src=\"images/phi4.png\" alt=\"phi4.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 34,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 83
    },
    {
        "block": 205,
        "stimulus": "<img src=\"images/phi3.png\" alt=\"phi3.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 34,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 84
    },
    {
        "block": 206,
        "stimulus": "<img src=\"images/phi2.png\" alt=\"phi2.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 34,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 85
    },
    {
        "block": 207,
        "stimulus": "<img src=\"images/phi1.png\" alt=\"phi1.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 34,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 86
    },
    {
        "block": 208,
        "stimulus": "<img src=\"images/phi2.png\" alt=\"phi2.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 34,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 87
    },
    {
        "block": 209,
        "stimulus": "<img src=\"images/phi3.png\" alt=\"phi3.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 34,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 88
    },
    {
        "block": 210,
        "stimulus": "<img src=\"images/phi4.png\" alt=\"phi4.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 34,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 89
    },
    {
        "block": 211,
        "stimulus": "<img src=\"images/phi3.png\" alt=\"phi3.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 34,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 90
    },
    {
        "block": 212,
        "stimulus": "<img src=\"images/phi2.png\" alt=\"phi2.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 34,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 91
    },
    {
        "block": 213,
        "stimulus": "<img src=\"images/phi1.png\" alt=\"phi1.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 34,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 92
    },
    {
        "block": 214,
        "stimulus": "<img src=\"images/phi2.png\" alt=\"phi2.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 34,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 93
    },
    {
        "block": 215,
        "stimulus": "<img src=\"images/phi3.png\" alt=\"phi3.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 34,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 94
    },
    {
        "block": 216,
        "stimulus": "<img src=\"images/phi4.png\" alt=\"phi4.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 34,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 95
    },
    {
        "block": 217,
        "stimulus": "<img src=\"images/phi3.png\" alt=\"phi3.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 34,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 96
    },
    {
        "block": 218,
        "stimulus": "<img src=\"images/phi2.png\" alt=\"phi2.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 34,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 97
    },
    {
        "block": 219,
        "stimulus": "<img src=\"images/phi1.png\" alt=\"phi1.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 34,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 98
    },
    {
        "block": 220,
        "stimulus": "<img src=\"images/phi2.png\" alt=\"phi2.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 34,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 99
    },
    {
        "block": 221,
        "stimulus": "<img src=\"images/phi3.png\" alt=\"phi3.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 34,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 100
    },
    {
        "block": 222,
        "stimulus": "<img src=\"images/phi4.png\" alt=\"phi4.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 34,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 101
    },
    {
        "block": 223,
        "stimulus": "<img src=\"images/phi3.png\" alt=\"phi3.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 34,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 102
    },
    {
        "block": 224,
        "stimulus": "<img src=\"images/phi2.png\" alt=\"phi2.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 34,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 103
    },
    {
        "block": 225,
        "stimulus": "<img src=\"images/phi1.png\" alt=\"phi1.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 34,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 104
    },
    {
        "block": 226,
        "stimulus": "<img src=\"images/phi2.png\" alt=\"phi2.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 34,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 105
    },
    {
        "block": 227,
        "stimulus": "<img src=\"images/phi3.png\" alt=\"phi3.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 34,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 106
    },
    {
        "block": 228,
        "stimulus": "<img src=\"images/phi4.png\" alt=\"phi4.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 34,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 107
    },
    {
        "block": 229,
        "stimulus": "<img src=\"images/phi3.png\" alt=\"phi3.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 34,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 108
    },
    {
        "block": 230,
        "stimulus": "<img src=\"images/phi2.png\" alt=\"phi2.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 34,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 109
    },
    {
        "block": 231,
        "stimulus": "<img src=\"images/phi1.png\" alt=\"phi1.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 34,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 110
    },
    {
        "block": 232,
        "stimulus": "<img src=\"images/phi2.png\" alt=\"phi2.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 34,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 111
    },
    {
        "block": 233,
        "stimulus": "<img src=\"images/phi3.png\" alt=\"phi3.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 34,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 112
    },
    {
        "block": 234,
        "stimulus": "<img src=\"images/phi4.png\" alt=\"phi4.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 34,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 113
    },
    {
        "block": 235,
        "stimulus": "<img src=\"images/phi3.png\" alt=\"phi3.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 34,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 114
    },
    {
        "block": 236,
        "stimulus": "<img src=\"images/phi2.png\" alt=\"phi2.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 34,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 115
    },
    {
        "block": 237,
        "stimulus": "<img src=\"images/phi1.png\" alt=\"phi1.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 34,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 116
    },
    {
        "block": 201,
        "stimulus": "<img src=\"images/phi1.png\" alt=\"phi1.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 34,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 117
    },
    {
        "block": 202,
        "stimulus": "<img src=\"images/phi2.png\" alt=\"phi2.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 34,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 118
    },
    {
        "block": 203,
        "stimulus": "<img src=\"images/phi3.png\" alt=\"phi3.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 34,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 119
    },
    {
        "block": 204,
        "stimulus": "<img src=\"images/phi4.png\" alt=\"phi4.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 34,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 120
    },
    {
        "block": 205,
        "stimulus": "<img src=\"images/phi3.png\" alt=\"phi3.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 34,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 121
    },
    {
        "block": 206,
        "stimulus": "<img src=\"images/phi2.png\" alt=\"phi2.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 34,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 122
    },
    {
        "block": 207,
        "stimulus": "<img src=\"images/phi1.png\" alt=\"phi1.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 34,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 123
    },
    {
        "block": 208,
        "stimulus": "<img src=\"images/phi2.png\" alt=\"phi2.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 34,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 124
    },
    {
        "block": 209,
        "stimulus": "<img src=\"images/phi3.png\" alt=\"phi3.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 34,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 125
    },
    {
        "block": 210,
        "stimulus": "<img src=\"images/phi4.png\" alt=\"phi4.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 34,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 126
    },
    {
        "block": 211,
        "stimulus": "<img src=\"images/phi3.png\" alt=\"phi3.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 34,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 127
    },
    {
        "block": 212,
        "stimulus": "<img src=\"images/phi2.png\" alt=\"phi2.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 34,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 128
    },
    {
        "block": 213,
        "stimulus": "<img src=\"images/phi1.png\" alt=\"phi1.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 34,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 129
    },
    {
        "block": 214,
        "stimulus": "<img src=\"images/phi2.png\" alt=\"phi2.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 34,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 130
    },
    {
        "block": 215,
        "stimulus": "<img src=\"images/phi3.png\" alt=\"phi3.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 34,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 131
    },
    {
        "block": 216,
        "stimulus": "<img src=\"images/phi4.png\" alt=\"phi4.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 34,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 132
    },
    {
        "block": 217,
        "stimulus": "<img src=\"images/phi3.png\" alt=\"phi3.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 34,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 133
    },
    {
        "block": 218,
        "stimulus": "<img src=\"images/phi2.png\" alt=\"phi2.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 34,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 134
    },
    {
        "block": 219,
        "stimulus": "<img src=\"images/phi1.png\" alt=\"phi1.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 34,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 135
    },
    {
        "block": 220,
        "stimulus": "<img src=\"images/phi2.png\" alt=\"phi2.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 34,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 136
    },
    {
        "block": 221,
        "stimulus": "<img src=\"images/phi3.png\" alt=\"phi3.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 34,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 137
    },
    {
        "block": 222,
        "stimulus": "<img src=\"images/phi4.png\" alt=\"phi4.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 34,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 138
    },
    {
        "block": 223,
        "stimulus": "<img src=\"images/phi3.png\" alt=\"phi3.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 34,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 139
    },
    {
        "block": 224,
        "stimulus": "<img src=\"images/phi2.png\" alt=\"phi2.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 34,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 140
    },
    {
        "block": 225,
        "stimulus": "<img src=\"images/phi1.png\" alt=\"phi1.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 34,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 141
    },
    {
        "block": 226,
        "stimulus": "<img src=\"images/phi2.png\" alt=\"phi2.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 34,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 142
    },
    {
        "block": 227,
        "stimulus": "<img src=\"images/phi3.png\" alt=\"phi3.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 34,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 143
    },
    {
        "block": 228,
        "stimulus": "<img src=\"images/phi4.png\" alt=\"phi4.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 34,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 144
    },
    {
        "block": 229,
        "stimulus": "<img src=\"images/phi3.png\" alt=\"phi3.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 34,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 145
    },
    {
        "block": 230,
        "stimulus": "<img src=\"images/phi2.png\" alt=\"phi2.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 34,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 146
    },
    {
        "block": 231,
        "stimulus": "<img src=\"images/phi1.png\" alt=\"phi1.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 34,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 147
    },
    {
        "block": 232,
        "stimulus": "<img src=\"images/phi2.png\" alt=\"phi2.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 34,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 148
    },
    {
        "block": 233,
        "stimulus": "<img src=\"images/phi3.png\" alt=\"phi3.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 34,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 149
    },
    {
        "block": 234,
        "stimulus": "<img src=\"images/phi4.png\" alt=\"phi4.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 34,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 150
    },
    {
        "block": 235,
        "stimulus": "<img src=\"images/phi3.png\" alt=\"phi3.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 34,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 151
    },
    {
        "block": 236,
        "stimulus": "<img src=\"images/phi2.png\" alt=\"phi2.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 34,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 152
    },
    {
        "block": 237,
        "stimulus": "<img src=\"images/phi1.png\" alt=\"phi1.png\" style=\"max-width:90%;max-height:90vh\" />",
        "response": "space",
        "latency": 34,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 153
    },
    {
        "block": 5,
        "stimulus": "Did you see a single circle moving from left to right and changing color mid-flight? This is the Color Phi illusion! Press Z if you saw movement, M if you saw separate circles.",
        "response": "z,m",
        "latency": null,
        "correctResponse": "z",
        "feedbackText": "[correct] You experienced the Color Phi illusion!",
        "feedbackDuration": 2000,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 154
    },
    {
        "block": 6,
        "stimulus": "Color Phi demonstration complete! This illusion shows how our brain creates motion and color change from discrete stimuli.",
        "response": "space",
        "latency": 5000,
        "correctResponse": null,
        "feedbackText": null,
        "feedbackDuration": null,
        "stimulusColor": "white",
        "backgroundColor": "black",
        "position": "center-center",
        "repetition": 1,
        "blockRepetition": 1,
        "trialIndex": 155
    }
];
        const preloadList = ["images/phi3.png", "images/phi4.png", "images/phi1.png", "images/phi2.png"];
        const keyMap = { 'space': ' ', 'ctrl': 'control', 'alt': 'alt', 'lshift': 'shift', 'rshift': 'shift' };
        
        let currentTrial = 0;
        let startTime = 0;
        let trialResults = [];
        let rafTimer = null;

        function preloadImages(srcs) {
            if (!srcs || srcs.length === 0) return Promise.resolve();
            return Promise.all(srcs.map(src => new Promise(resolve => {
                const img = new Image();
                img.onload = img.onerror = () => resolve();
                img.src = src;
            })));
        }

        function displayTrial(trial) {
            const container = document.getElementById('container');
            document.body.style.backgroundColor = trial.backgroundColor;
            container.style.color = trial.stimulusColor;

            const [y_pos, x_pos] = trial.position.split('-');
            document.body.style.alignItems = y_pos === 'top' ? 'flex-start' : y_pos === 'bottom' ? 'flex-end' : 'center';
            document.body.style.justifyContent = x_pos === 'left' ? 'flex-start' : x_pos === 'right' ? 'flex-end' : 'center';
            
            container.innerHTML = trial.stimulus;
            startTime = performance.now();

            if (rafTimer) clearTimeout(rafTimer);
            document.onkeydown = null;

            const isText = trial.response.trim().startsWith('[text');
            if (isText) {
                const input = document.createElement('input');
                input.type = 'text';
                const btn = document.createElement('button');
                btn.textContent = 'Continue';
                btn.onclick = () => handleResponse(input.value);
                container.appendChild(document.createElement('br'));
                container.appendChild(input);
                container.appendChild(btn);
                input.focus();
            } else if (trial.response.toUpperCase() !== 'NA') {
                document.onkeydown = (e) => {
                    const allowed = trial.response.split(',').map(k => {
                        const keyName = k.trim().toLowerCase();
                        return keyMap[keyName] || keyName;
                    });
                    if (allowed.includes(e.key.toLowerCase())) {
                        document.onkeydown = null; // Disable further key presses
                        handleResponse(e.key);
                    }
                };
            }

            if (trial.latency !== null) {
                rafTimer = setTimeout(() => {
                    document.onkeydown = null; // Disable key responses during auto-progression
                    handleResponse(null);
                }, trial.latency);
                // For trials with both response and latency, prioritize latency (automatic progression)
                // This allows for automatic slideshow-style presentations
                if (trial.response.toUpperCase() !== 'NA') {
                    // Brief delay before disabling keys to allow immediate response if needed
                    setTimeout(() => {
                        if (rafTimer) { // Only disable if timer is still active
                            document.onkeydown = null;
                        }
                    }, 50);
                }
            }
        }

        function handleResponse(response) {
            if (rafTimer) clearTimeout(rafTimer);
            const responseTime = performance.now() - startTime;
            const trial = trials[currentTrial];
            
            const correctResponseMapped = trial.correctResponse ? (keyMap[trial.correctResponse.toLowerCase()] || trial.correctResponse) : null;
            const isCorrect = correctResponseMapped ? (response && response.toLowerCase() === correctResponseMapped.toLowerCase()) : null;

            trialResults.push(Object.assign(trial, {
                actualResponse: response,
                responseTime: responseTime,
                isCorrect: isCorrect,
                timestamp: new Date().toISOString()
            }));

            // Handle feedback based on markers: [correct], [incorrect], [all]
            let showFeedback = false;
            let feedbackMessage = '';
            
            if (trial.feedbackText) {
                const feedbackText = trial.feedbackText.trim();
                
                if (feedbackText.includes('[all]')) {
                    showFeedback = true;
                    feedbackMessage = feedbackText.replace('[all]', '').trim();
                } else if (feedbackText.includes('[correct]') && isCorrect === true) {
                    showFeedback = true;
                    feedbackMessage = feedbackText.replace('[correct]', '').trim();
                } else if (feedbackText.includes('[incorrect]') && isCorrect === false) {
                    showFeedback = true;
                    feedbackMessage = feedbackText.replace('[incorrect]', '').trim();
                } else if (!feedbackText.includes('[correct]') && !feedbackText.includes('[incorrect]') && !feedbackText.includes('[all]')) {
                    // No markers - show feedback for any response
                    showFeedback = true;
                    feedbackMessage = feedbackText;
                }
            }

            if (showFeedback && feedbackMessage) {
                const fb = document.getElementById('feedback');
                fb.textContent = feedbackMessage;
                fb.style.display = 'block';
                setTimeout(() => {
                    fb.style.display = 'none';
                    nextTrial();
                }, trial.feedbackDuration || 1000);
            } else {
                nextTrial();
            }
        }

        function nextTrial() {
            currentTrial++;
            if (currentTrial < trials.length) {
                displayTrial(trials[currentTrial]);
            } else {
                document.getElementById('container').innerHTML = "<h2>Experiment complete. Thank you!</h2>";
                downloadData();
            }
        }

        function downloadData() {
            const experimentId = 'exp_' + Date.now().toString(36);
            const data = {
                experimentId: experimentId,
                timestamp: new Date().toISOString(),
                browserInfo: navigator.userAgent,
                randomized: false,
                repetitions: 1,
                trials: trialResults
            };
            const jsonData = JSON.stringify(data, null, 2);
            const blob = new Blob([jsonData], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `experiment_data_${experimentId}.json`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        }

        preloadImages(preloadList).then(() => {
            if (trials.length > 0) displayTrial(trials[0]);
        });
    </script>
</body>
</html>
